'use strict';

var _avaSpec = require('ava-spec');

var jssm = require('../../../build/jssm.es5.js');
/* eslint-disable max-len */

(0, _avaSpec.describe)('Simple stop light', async function (it) {

  var trs = [{ name: 'SwitchToWarn', action: 'Proceed', from: 'Green', to: 'Yellow' }, { name: 'SwitchToHalt', action: 'Proceed', from: 'Yellow', to: 'Red' }, { name: 'SwitchToGo', action: 'Proceed', from: 'Red', to: 'Green' }],
      light = new jssm.Machine({
    initial_state: 'Red',
    transitions: trs
  });

  var r_states = light.states();
  it('has the right state count', function (t) {
    return t.is(r_states.length, 3);
  });
  trs.map(function (t) {
    return t.to;
  }).map(function (c) {
    return it('has state "' + c + '"', function (t) {
      return t.is(r_states.includes(c), true);
    });
  });

  var r_names = light.list_named_transitions();
  it('has the right named transition count', function (t) {
    return t.is(r_names.size, 3);
  });
  trs.map(function (t) {
    return t.name;
  }).map(function (a) {
    return it('has named transition "' + a + '"', function (t) {
      return t.is(r_names.has(a), true);
    });
  });

  it.describe('- `proceed` walkthrough', async function (it2) {

    it2('machine starts red', function (t) {
      return t.is("Red", light.state());
    });
    it2('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it2('light is now green', function (t) {
      return t.is("Green", light.state());
    });
    it2('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it2('light is now yellow', function (t) {
      return t.is("Yellow", light.state());
    });
    it2('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it2('light is red again', function (t) {
      return t.is("Red", light.state());
    });
  });

  it.describe('- mixed - `proceed` and `transition`', async function (it3) {

    it3('machine starts red', function (t) {
      return t.is("Red", light.state());
    });
    it3('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it3('light is now green', function (t) {
      return t.is("Green", light.state());
    });

    it3('green refuses transition red', function (t) {
      return t.is(false, light.transition('Red'));
    });
    it3('green still green', function (t) {
      return t.is("Green", light.state());
    });
    it3('green refuses transition green', function (t) {
      return t.is(false, light.transition('Green'));
    });
    it3('green still green', function (t) {
      return t.is("Green", light.state());
    });
    it3('green accepts transition yellow', function (t) {
      return t.is(true, light.transition('Yellow'));
    });
    it3('green now yellow', function (t) {
      return t.is("Yellow", light.state());
    });

    it3('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it3('light is red again', function (t) {
      return t.is("Red", light.state());
    });

    it3('red refuses transition yellow', function (t) {
      return t.is(false, light.transition('Yellow'));
    });
    it3('red still red', function (t) {
      return t.is("Red", light.state());
    });
    it3('red refuses transition red', function (t) {
      return t.is(false, light.transition('Red'));
    });
    it3('red still red', function (t) {
      return t.is("Red", light.state());
    });
    it3('red accepts transition green', function (t) {
      return t.is(true, light.transition('Green'));
    });
    it3('red now green', function (t) {
      return t.is("Green", light.state());
    });

    it3('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it3('light is yellow again', function (t) {
      return t.is("Yellow", light.state());
    });
    it3('proceed is true', function (t) {
      return t.is(true, light.action('Proceed'));
    });
    it3('light is finally red again', function (t) {
      return t.is("Red", light.state());
    });
  });
});

(0, _avaSpec.describe)('Complex stop light', async function (it) {

  var light2 = new jssm.Machine({

    initial_state: 'off',

    transitions: [{ name: 'turn_on', action: 'power_on', from: 'off', to: 'red' }, { action: 'power_off', from: 'red', to: 'off' }, { action: 'power_off', from: 'yellow', to: 'off' }, { action: 'power_off', from: 'green', to: 'off' }, { name: 'switch_warn', action: 'proceed', from: 'green', to: 'yellow' }, { name: 'switch_halt', action: 'proceed', from: 'yellow', to: 'red' }, { name: 'switch_go', action: 'proceed', from: 'red', to: 'green' }]

  });

  var r_states = light2.states();
  it('has the right state count', function (t) {
    return t.is(r_states.length, 4);
  });
  ['red', 'yellow', 'green', 'off'].map(function (c) {
    return it('has state "' + c + '"', function (t) {
      return t.is(r_states.includes(c), true);
    });
  });

  var r_names = light2.list_named_transitions();
  it('has the right named transition count', function (t) {
    return t.is(r_names.size, 4);
  });
  ['turn_on', 'switch_warn', 'switch_halt', 'switch_go'].map(function (a) {
    return it('has named transition "' + a + '"', function (t) {
      return t.is(r_names.has(a), true);
    });
  });

  it('has the right exit actions for red', function (t) {
    return t.deepEqual(['power_off', 'proceed'], light2.list_exit_actions('red'));
  });

  it.describe('- `transition` walkthrough', async function (it2) {

    it2('machine starts off', function (t) {
      return t.is("off", light2.state());
    });
    it2('off refuses green', function (t) {
      return t.is(false, light2.transition('green'));
    });
    it2('off refuses yellow', function (t) {
      return t.is(false, light2.transition('yellow'));
    });

    it2('off refuses proceed', function (t) {
      return t.is(false, light2.action('proceed'));
    });

    it2('off accepts red', function (t) {
      return t.is(true, light2.transition('red'));
    });
    it2('off is now red', function (t) {
      return t.is("red", light2.state());
    });
    it2('red refuses yellow', function (t) {
      return t.is(false, light2.transition('yellow'));
    });
    it2('red still red', function (t) {
      return t.is("red", light2.state());
    });
    it2('red refuses red', function (t) {
      return t.is(false, light2.transition('red'));
    });
    it2('red still red', function (t) {
      return t.is("red", light2.state());
    });

    it2('red accepts green', function (t) {
      return t.is(true, light2.transition('green'));
    });
    it2('red now green', function (t) {
      return t.is("green", light2.state());
    });
    it2('green refuses red', function (t) {
      return t.is(false, light2.transition('red'));
    });
    it2('green still green', function (t) {
      return t.is("green", light2.state());
    });
    it2('green refuses green', function (t) {
      return t.is(false, light2.transition('green'));
    });
    it2('green still green', function (t) {
      return t.is("green", light2.state());
    });

    it2('green accepts yellow', function (t) {
      return t.is(true, light2.transition('yellow'));
    });
    it2('green now yellow', function (t) {
      return t.is("yellow", light2.state());
    });
    it2('yellow refuses green', function (t) {
      return t.is(false, light2.transition('green'));
    });
    it2('yellow still yellow', function (t) {
      return t.is("yellow", light2.state());
    });
    it2('yellow refuses yellow', function (t) {
      return t.is(false, light2.transition('yellow'));
    });
    it2('yellow still yellow', function (t) {
      return t.is("yellow", light2.state());
    });

    it2('yellow accepts red', function (t) {
      return t.is(true, light2.transition('red'));
    });
    it2('back to red', function (t) {
      return t.is("red", light2.state());
    });

    it2('proceed is true', function (t) {
      return t.is(true, light2.action('proceed'));
    });
    it2('light is now green', function (t) {
      return t.is("green", light2.state());
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy90ZXN0cy9zdG9wIGxpZ2h0LmpzIl0sIm5hbWVzIjpbImpzc20iLCJyZXF1aXJlIiwiaXQiLCJ0cnMiLCJuYW1lIiwiYWN0aW9uIiwiZnJvbSIsInRvIiwibGlnaHQiLCJNYWNoaW5lIiwiaW5pdGlhbF9zdGF0ZSIsInRyYW5zaXRpb25zIiwicl9zdGF0ZXMiLCJzdGF0ZXMiLCJ0IiwiaXMiLCJsZW5ndGgiLCJtYXAiLCJjIiwiaW5jbHVkZXMiLCJyX25hbWVzIiwibGlzdF9uYW1lZF90cmFuc2l0aW9ucyIsInNpemUiLCJhIiwiaGFzIiwiZGVzY3JpYmUiLCJpdDIiLCJzdGF0ZSIsIml0MyIsInRyYW5zaXRpb24iLCJsaWdodDIiLCJkZWVwRXF1YWwiLCJsaXN0X2V4aXRfYWN0aW9ucyJdLCJtYXBwaW5ncyI6Ijs7QUFHQTs7QUFFQSxJQUFNQSxPQUFPQyxRQUFRLDRCQUFSLENBQWI7QUFKQTs7QUFVQSx1QkFBUyxtQkFBVCxFQUE4QixnQkFBTUMsRUFBTixFQUFZOztBQUV4QyxNQUFNQyxNQUFNLENBQ0osRUFBRUMsTUFBTSxjQUFSLEVBQXdCQyxRQUFRLFNBQWhDLEVBQTJDQyxNQUFLLE9BQWhELEVBQTBEQyxJQUFHLFFBQTdELEVBREksRUFFSixFQUFFSCxNQUFNLGNBQVIsRUFBd0JDLFFBQVEsU0FBaEMsRUFBMkNDLE1BQUssUUFBaEQsRUFBMERDLElBQUcsS0FBN0QsRUFGSSxFQUdKLEVBQUVILE1BQU0sWUFBUixFQUF3QkMsUUFBUSxTQUFoQyxFQUEyQ0MsTUFBSyxLQUFoRCxFQUEwREMsSUFBRyxPQUE3RCxFQUhJLENBQVo7QUFBQSxNQUtNQyxRQUFRLElBQUlSLEtBQUtTLE9BQVQsQ0FBaUI7QUFDdkJDLG1CQUFnQixLQURPO0FBRXZCQyxpQkFBZ0JSO0FBRk8sR0FBakIsQ0FMZDs7QUFVQSxNQUFNUyxXQUFXSixNQUFNSyxNQUFOLEVBQWpCO0FBQ0FYLEtBQUcsMkJBQUgsRUFBZ0M7QUFBQSxXQUFLWSxFQUFFQyxFQUFG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b0JBQUosRUFBNkI7QUFBQSxhQUFLWixFQUFFQyxFQUFGLENBQUssSUFBTCxFQUFlZSxPQUFPRCxVQUFQLENBQWtCLEtBQWxCLENBQWYsQ0FBTDtBQUFBLEtBQTdCO0FBQ0FILFFBQUksYUFBSixFQUE2QjtBQUFBLGFBQUtaLEVBQUVDLEVBQUYsQ0FBSyxLQUFMLEVBQWVlLE9BQU9ILEtBQVAsRUFBZixDQUFMO0FBQUEsS0FBN0I7O0FBRUFELFFBQUksaUJBQUosRUFBNkI7QUFBQSxhQUFLWixFQUFFQyxFQUFGLENBQUssSUFBTCxFQUFlZSxPQUFPekIsTUFBUCxDQUFjLFNBQWQsQ0FBZixDQUFMO0FBQUEsS0FBN0I7QUFDQXFCLFFBQUksb0JBQUosRUFBNkI7QUFBQSxhQUFLWixFQUFFQyxFQUFGLENBQUssT0FBTCxFQUFlZSxPQUFPSCxLQUFQLEVBQWYsQ0FBTDtBQUFBLEtBQTdCO0FBRUQsR0FuQ0Q7QUFxQ0QsQ0ExRUQiLCJmaWxlIjoic3RvcCBsaWdodC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5pbXBvcnQge2Rlc2NyaWJlfSBmcm9tICdhdmEtc3BlYyc7XG5cbmNvbnN0IGpzc20gPSByZXF1aXJlKCcuLi8uLi8uLi9idWlsZC9qc3NtLmVzNS5qcycpO1xuXG5cblxuXG5cbmRlc2NyaWJlKCdTaW1wbGUgc3RvcCBsaWdodCcsIGFzeW5jIGl0ID0+IHtcblxuICBjb25zdCB0cnMgPSBbXG4gICAgICAgICAgeyBuYW1lOiAnU3dpdGNoVG9XYXJuJywgYWN0aW9uOiAnUHJvY2VlZCcsIGZyb206J0dyZWVuJywgIHRvOidZZWxsb3cnIH0sXG4gICAgICAgICAgeyBuYW1lOiAnU3dpdGNoVG9IYWx0JywgYWN0aW9uOiAnUHJvY2VlZCcsIGZyb206J1llbGxvdycsIHRvOidSZWQnICAgIH0sXG4gICAgICAgICAgeyBuYW1lOiAnU3dpdGNoVG9HbycsICAgYWN0aW9uOiAnUHJvY2VlZCcsIGZyb206J1JlZCcsICAgIHRvOidHcmVlbicgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbGlnaHQgPSBuZXcganNzbS5NYWNoaW5lKHtcbiAgICAgICAgICBpbml0aWFsX3N0YXRlIDogJ1JlZCcsXG4gICAgICAgICAgdHJhbnNpdGlvbnMgICA6IHRyc1xuICAgICAgICB9KTtcblxuICBjb25zdCByX3N0YXRlcyA9IGxpZ2h0LnN0YXRlcygpO1xuICBpdCgnaGFzIHRoZSByaWdodCBzdGF0ZSBjb3VudCcsIHQgPT4gdC5pcyhyX3N0YXRlcy5sZW5ndGgsIDMpKTtcbiAgdHJzLm1hcCh0ID0+IHQudG8pLm1hcChjID0+XG4gICAgaXQoYGhhcyBzdGF0ZSBcIiR7Y31cImAsIHQgPT4gdC5pcyhyX3N0YXRlcy5pbmNsdWRlcyhjKSwgdHJ1ZSkpXG4gICk7XG5cbiAgY29uc3Qgcl9uYW1lcyA9IGxpZ2h0Lmxpc3RfbmFtZWRfdHJhbnNpdGlvbnMoKTtcbiAgaXQoJ2hhcyB0aGUgcmlnaHQgbmFtZWQgdHJhbnNpdGlvbiBjb3VudCcsIHQgPT4gdC5pcyhyX25hbWVzLnNpemUsIDMpKTtcbiAgdHJzLm1hcCh0ID0+IHQubmFtZSlcbiAgICAgLm1hcChhID0+XG4gICAgICAgaXQoYGhhcyBuYW1lZCB0cmFuc2l0aW9uIFwiJHthfVwiYCwgdCA9PiB0LmlzKHJfbmFtZXMuaGFzKGEpLCB0cnVlKSlcbiAgICAgKTtcblxuICBpdC5kZXNjcmliZSgnLSBgcHJvY2VlZGAgd2Fsa3Rocm91Z2gnLCBhc3luYyBpdDIgPT4ge1xuXG4gICAgaXQyKCdtYWNoaW5lIHN0YXJ0cyByZWQnLCAgdCA9PiB0LmlzKFwiUmVkXCIsICAgIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDIoJ3Byb2NlZWQgaXMgdHJ1ZScsICAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0LmFjdGlvbignUHJvY2VlZCcpKSk7XG4gICAgaXQyKCdsaWdodCBpcyBub3cgZ3JlZW4nLCAgdCA9PiB0LmlzKFwiR3JlZW5cIiwgIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDIoJ3Byb2NlZWQgaXMgdHJ1ZScsICAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0LmFjdGlvbignUHJvY2VlZCcpKSk7XG4gICAgaXQyKCdsaWdodCBpcyBub3cgeWVsbG93JywgdCA9PiB0LmlzKFwiWWVsbG93XCIsIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDIoJ3Byb2NlZWQgaXMgdHJ1ZScsICAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0LmFjdGlvbignUHJvY2VlZCcpKSk7XG4gICAgaXQyKCdsaWdodCBpcyByZWQgYWdhaW4nLCAgdCA9PiB0LmlzKFwiUmVkXCIsICAgIGxpZ2h0LnN0YXRlKCkpKTtcblxuICB9KTtcblxuICBpdC5kZXNjcmliZSgnLSBtaXhlZCAtIGBwcm9jZWVkYCBhbmQgYHRyYW5zaXRpb25gJywgYXN5bmMgaXQzID0+IHtcblxuICAgIGl0MygnbWFjaGluZSBzdGFydHMgcmVkJywgICAgICAgICAgICAgIHQgPT4gdC5pcyhcIlJlZFwiLCAgICBsaWdodC5zdGF0ZSgpKSk7XG4gICAgaXQzKCdwcm9jZWVkIGlzIHRydWUnLCAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKHRydWUsICAgICBsaWdodC5hY3Rpb24oJ1Byb2NlZWQnKSkpO1xuICAgIGl0MygnbGlnaHQgaXMgbm93IGdyZWVuJywgICAgICAgICAgICAgIHQgPT4gdC5pcyhcIkdyZWVuXCIsICBsaWdodC5zdGF0ZSgpKSk7XG5cbiAgICBpdDMoJ2dyZWVuIHJlZnVzZXMgdHJhbnNpdGlvbiByZWQnLCAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0LnRyYW5zaXRpb24oJ1JlZCcpKSk7XG4gICAgaXQzKCdncmVlbiBzdGlsbCBncmVlbicsICAgICAgICAgICAgICAgdCA9PiB0LmlzKFwiR3JlZW5cIiwgIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDMoJ2dyZWVuIHJlZnVzZXMgdHJhbnNpdGlvbiBncmVlbicsICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0LnRyYW5zaXRpb24oJ0dyZWVuJykpKTtcbiAgICBpdDMoJ2dyZWVuIHN0aWxsIGdyZWVuJywgICAgICAgICAgICAgICB0ID0+IHQuaXMoXCJHcmVlblwiLCAgbGlnaHQuc3RhdGUoKSkpO1xuICAgIGl0MygnZ3JlZW4gYWNjZXB0cyB0cmFuc2l0aW9uIHllbGxvdycsIHQgPT4gdC5pcyh0cnVlLCAgICAgbGlnaHQudHJhbnNpdGlvbignWWVsbG93JykpKTtcbiAgICBpdDMoJ2dyZWVuIG5vdyB5ZWxsb3cnLCAgICAgICAgICAgICAgICB0ID0+IHQuaXMoXCJZZWxsb3dcIiwgbGlnaHQuc3RhdGUoKSkpO1xuXG4gICAgaXQzKCdwcm9jZWVkIGlzIHRydWUnLCAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKHRydWUsICAgICBsaWdodC5hY3Rpb24oJ1Byb2NlZWQnKSkpO1xuICAgIGl0MygnbGlnaHQgaXMgcmVkIGFnYWluJywgICAgICAgICAgICAgIHQgPT4gdC5pcyhcIlJlZFwiLCAgICBsaWdodC5zdGF0ZSgpKSk7XG5cbiAgICBpdDMoJ3JlZCByZWZ1c2VzIHRyYW5zaXRpb24geWVsbG93JywgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0LnRyYW5zaXRpb24oJ1llbGxvdycpKSk7XG4gICAgaXQzKCdyZWQgc3RpbGwgcmVkJywgICAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKFwiUmVkXCIsICAgIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDMoJ3JlZCByZWZ1c2VzIHRyYW5zaXRpb24gcmVkJywgICAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0LnRyYW5zaXRpb24oJ1JlZCcpKSk7XG4gICAgaXQzKCdyZWQgc3RpbGwgcmVkJywgICAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKFwiUmVkXCIsICAgIGxpZ2h0LnN0YXRlKCkpKTtcbiAgICBpdDMoJ3JlZCBhY2NlcHRzIHRyYW5zaXRpb24gZ3JlZW4nLCAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0LnRyYW5zaXRpb24oJ0dyZWVuJykpKTtcbiAgICBpdDMoJ3JlZCBub3cgZ3JlZW4nLCAgICAgICAgICAgICAgICAgICB0ID0+IHQuaXMoXCJHcmVlblwiLCAgbGlnaHQuc3RhdGUoKSkpO1xuXG4gICAgaXQzKCdwcm9jZWVkIGlzIHRydWUnLCAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKHRydWUsICAgICBsaWdodC5hY3Rpb24oJ1Byb2NlZWQnKSkpO1xuICAgIGl0MygnbGlnaHQgaXMgeWVsbG93IGFnYWluJywgICAgICAgICAgIHQgPT4gdC5pcyhcIlllbGxvd1wiLCBsaWdodC5zdGF0ZSgpKSk7XG4gICAgaXQzKCdwcm9jZWVkIGlzIHRydWUnLCAgICAgICAgICAgICAgICAgdCA9PiB0LmlzKHRydWUsICAgICBsaWdodC5hY3Rpb24oJ1Byb2NlZWQnKSkpO1xuICAgIGl0MygnbGlnaHQgaXMgZmluYWxseSByZWQgYWdhaW4nLCAgICAgIHQgPT4gdC5pcyhcIlJlZFwiLCAgICBsaWdodC5zdGF0ZSgpKSk7XG5cbiAgfSk7XG5cbn0pO1xuXG5cblxuXG5cbmRlc2NyaWJlKCdDb21wbGV4IHN0b3AgbGlnaHQnLCBhc3luYyBpdCA9PiB7XG5cbiAgY29uc3QgbGlnaHQyID0gbmV3IGpzc20uTWFjaGluZSh7XG5cbiAgICBpbml0aWFsX3N0YXRlOiAnb2ZmJyxcblxuICAgIHRyYW5zaXRpb25zOltcblxuICAgICAgeyBuYW1lOid0dXJuX29uJywgICAgIGFjdGlvbjoncG93ZXJfb24nLCAgZnJvbTonb2ZmJywgICAgdG86J3JlZCd9LFxuXG4gICAgICB7ICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOidwb3dlcl9vZmYnLCBmcm9tOidyZWQnLCAgICB0bzonb2ZmJyB9LFxuICAgICAgeyAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjoncG93ZXJfb2ZmJywgZnJvbToneWVsbG93JywgdG86J29mZicgfSxcbiAgICAgIHsgICAgICAgICAgICAgICAgICAgICBhY3Rpb246J3Bvd2VyX29mZicsIGZyb206J2dyZWVuJywgIHRvOidvZmYnIH0sXG5cbiAgICAgIHsgbmFtZTonc3dpdGNoX3dhcm4nLCBhY3Rpb246J3Byb2NlZWQnLCAgIGZyb206J2dyZWVuJywgIHRvOid5ZWxsb3cnIH0sXG4gICAgICB7IG5hbWU6J3N3aXRjaF9oYWx0JywgYWN0aW9uOidwcm9jZWVkJywgICBmcm9tOid5ZWxsb3cnLCB0bzoncmVkJyAgICB9LFxuICAgICAgeyBuYW1lOidzd2l0Y2hfZ28nLCAgIGFjdGlvbjoncHJvY2VlZCcsICAgZnJvbToncmVkJywgICAgdG86J2dyZWVuJyAgfVxuXG4gICAgXVxuXG4gIH0pO1xuXG4gIGNvbnN0IHJfc3RhdGVzID0gbGlnaHQyLnN0YXRlcygpO1xuICBpdCgnaGFzIHRoZSByaWdodCBzdGF0ZSBjb3VudCcsIHQgPT4gdC5pcyhyX3N0YXRlcy5sZW5ndGgsIDQpKTtcbiAgWydyZWQnLCAneWVsbG93JywgJ2dyZWVuJywgJ29mZiddLm1hcChjID0+XG4gICAgaXQoYGhhcyBzdGF0ZSBcIiR7Y31cImAsIHQgPT4gdC5pcyhyX3N0YXRlcy5pbmNsdWRlcyhjKSwgdHJ1ZSkpXG4gICk7XG5cbiAgY29uc3Qgcl9uYW1lcyA9IGxpZ2h0Mi5saXN0X25hbWVkX3RyYW5zaXRpb25zKCk7XG4gIGl0KCdoYXMgdGhlIHJpZ2h0IG5hbWVkIHRyYW5zaXRpb24gY291bnQnLCB0ID0+IHQuaXMocl9uYW1lcy5zaXplLCA0KSk7XG4gIFsndHVybl9vbicsICdzd2l0Y2hfd2FybicsICdzd2l0Y2hfaGFsdCcsICdzd2l0Y2hfZ28nXS5tYXAoYSA9PlxuICAgIGl0KGBoYXMgbmFtZWQgdHJhbnNpdGlvbiBcIiR7YX1cImAsIHQgPT4gdC5pcyhyX25hbWVzLmhhcyhhKSwgdHJ1ZSkpXG4gICk7XG5cbiAgaXQoJ2hhcyB0aGUgcmlnaHQgZXhpdCBhY3Rpb25zIGZvciByZWQnLCB0ID0+IHQuZGVlcEVxdWFsKFsncG93ZXJfb2ZmJywgJ3Byb2NlZWQnXSwgbGlnaHQyLmxpc3RfZXhpdF9hY3Rpb25zKCdyZWQnKSkpO1xuXG5cbiAgaXQuZGVzY3JpYmUoJy0gYHRyYW5zaXRpb25gIHdhbGt0aHJvdWdoJywgYXN5bmMgaXQyID0+IHtcblxuICAgIGl0MignbWFjaGluZSBzdGFydHMgb2ZmJywgICAgdCA9PiB0LmlzKFwib2ZmXCIsICAgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG4gICAgaXQyKCdvZmYgcmVmdXNlcyBncmVlbicsICAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCdncmVlbicpKSk7XG4gICAgaXQyKCdvZmYgcmVmdXNlcyB5ZWxsb3cnLCAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCd5ZWxsb3cnKSkpO1xuXG4gICAgaXQyKCdvZmYgcmVmdXNlcyBwcm9jZWVkJywgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0Mi5hY3Rpb24oJ3Byb2NlZWQnKSkpO1xuXG4gICAgaXQyKCdvZmYgYWNjZXB0cyByZWQnLCAgICAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCdyZWQnKSkpO1xuICAgIGl0Mignb2ZmIGlzIG5vdyByZWQnLCAgICAgICAgdCA9PiB0LmlzKFwicmVkXCIsICAgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG4gICAgaXQyKCdyZWQgcmVmdXNlcyB5ZWxsb3cnLCAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCd5ZWxsb3cnKSkpO1xuICAgIGl0MigncmVkIHN0aWxsIHJlZCcsICAgICAgICAgdCA9PiB0LmlzKFwicmVkXCIsICAgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG4gICAgaXQyKCdyZWQgcmVmdXNlcyByZWQnLCAgICAgICB0ID0+IHQuaXMoZmFsc2UsICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCdyZWQnKSkpO1xuICAgIGl0MigncmVkIHN0aWxsIHJlZCcsICAgICAgICAgdCA9PiB0LmlzKFwicmVkXCIsICAgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG5cbiAgICBpdDIoJ3JlZCBhY2NlcHRzIGdyZWVuJywgICAgIHQgPT4gdC5pcyh0cnVlLCAgICAgbGlnaHQyLnRyYW5zaXRpb24oJ2dyZWVuJykpKTtcbiAgICBpdDIoJ3JlZCBub3cgZ3JlZW4nLCAgICAgICAgIHQgPT4gdC5pcyhcImdyZWVuXCIsICBsaWdodDIuc3RhdGUoKSkpO1xuICAgIGl0MignZ3JlZW4gcmVmdXNlcyByZWQnLCAgICAgdCA9PiB0LmlzKGZhbHNlLCAgICBsaWdodDIudHJhbnNpdGlvbigncmVkJykpKTtcbiAgICBpdDIoJ2dyZWVuIHN0aWxsIGdyZWVuJywgICAgIHQgPT4gdC5pcyhcImdyZWVuXCIsICBsaWdodDIuc3RhdGUoKSkpO1xuICAgIGl0MignZ3JlZW4gcmVmdXNlcyBncmVlbicsICAgdCA9PiB0LmlzKGZhbHNlLCAgICBsaWdodDIudHJhbnNpdGlvbignZ3JlZW4nKSkpO1xuICAgIGl0MignZ3JlZW4gc3RpbGwgZ3JlZW4nLCAgICAgdCA9PiB0LmlzKFwiZ3JlZW5cIiwgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG5cbiAgICBpdDIoJ2dyZWVuIGFjY2VwdHMgeWVsbG93JywgIHQgPT4gdC5pcyh0cnVlLCAgICAgbGlnaHQyLnRyYW5zaXRpb24oJ3llbGxvdycpKSk7XG4gICAgaXQyKCdncmVlbiBub3cgeWVsbG93JywgICAgICB0ID0+IHQuaXMoXCJ5ZWxsb3dcIiwgbGlnaHQyLnN0YXRlKCkpKTtcbiAgICBpdDIoJ3llbGxvdyByZWZ1c2VzIGdyZWVuJywgIHQgPT4gdC5pcyhmYWxzZSwgICAgbGlnaHQyLnRyYW5zaXRpb24oJ2dyZWVuJykpKTtcbiAgICBpdDIoJ3llbGxvdyBzdGlsbCB5ZWxsb3cnLCAgIHQgPT4gdC5pcyhcInllbGxvd1wiLCBsaWdodDIuc3RhdGUoKSkpO1xuICAgIGl0MigneWVsbG93IHJlZnVzZXMgeWVsbG93JywgdCA9PiB0LmlzKGZhbHNlLCAgICBsaWdodDIudHJhbnNpdGlvbigneWVsbG93JykpKTtcbiAgICBpdDIoJ3llbGxvdyBzdGlsbCB5ZWxsb3cnLCAgIHQgPT4gdC5pcyhcInllbGxvd1wiLCBsaWdodDIuc3RhdGUoKSkpO1xuXG4gICAgaXQyKCd5ZWxsb3cgYWNjZXB0cyByZWQnLCAgICB0ID0+IHQuaXModHJ1ZSwgICAgIGxpZ2h0Mi50cmFuc2l0aW9uKCdyZWQnKSkpO1xuICAgIGl0MignYmFjayB0byByZWQnLCAgICAgICAgICAgdCA9PiB0LmlzKFwicmVkXCIsICAgIGxpZ2h0Mi5zdGF0ZSgpKSk7XG5cbiAgICBpdDIoJ3Byb2NlZWQgaXMgdHJ1ZScsICAgICAgIHQgPT4gdC5pcyh0cnVlLCAgICAgbGlnaHQyLmFjdGlvbigncHJvY2VlZCcpKSk7XG4gICAgaXQyKCdsaWdodCBpcyBub3cgZ3JlZW4nLCAgICB0ID0+IHQuaXMoXCJncmVlblwiLCAgbGlnaHQyLnN0YXRlKCkpKTtcblxuICB9KTtcblxufSk7XG4iXX0=